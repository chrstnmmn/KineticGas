<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Kinetic Gas Simulation</title>
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/style.css" />
  </head>

  <body>
    <div class="container">
      <main>
        <!-- Top Section - Simulation and Controls -->
        <div class="simulation-section">
          <!-- Left Column - Simulation -->
          <div class="simulation-container">
            <div class="canvas-container" id="gasContainer">
              <canvas id="particleCanvas"></canvas>
            </div>
          </div>

          <!-- Right Column - Controls -->
          <div class="controls-column">
            <div class="pressure-display">
              <span class="pressure-label">Pressure:</span>
              <div id="pressureValue">101.3</div>
              <span class="pressure-unit">kPa</span>
              <span class="max-pressure">
                (Max:
                <span id="maxPressureValue">1000</span> kPa)
              </span>
            </div>

            <div class="controls">
              <div class="control-group">
                <label for="temperature">
                  Temperature:
                  <span id="temperatureValue">300</span>K
                </label>
                <div class="input-with-slider">
                  <input type="number" id="temperatureInput" min="1" value="300" step="1" />
                  <input type="range" id="temperature" min="0" max="30" value="10" />
                </div>
              </div>

              <div class="control-group">
                <label for="containerStrength">
                  Container Strength:
                  <span id="strengthValue">1000</span> kPa
                </label>
                <div class="input-with-slider">
                  <input type="number" id="strengthInput" min="1" value="1000" step="10" />
                  <input type="range" id="containerStrength" min="1" max="2000" value="1000" />
                </div>
              </div>

              <div class="control-group">
                <label for="particleCount">Particles to Add:</label>
                <input type="number" id="particleCount" min="1" value="5" step="1" />
                <button id="addGasButton">Add Gas Particles</button>
              </div>

              <div class="control-group">
                <label for="boxWidthInput">Box Width (px):</label>
                <div class="dimension-controls">
                  <input
                    type="number"
                    id="boxWidthInput"
                    min="50"
                    value="300"
                    step="10"
                    max="2000"
                  />
                  <input type="range" id="boxWidth" min="50" max="2000" value="300" />
                  <span id="boxWidthValue">300</span>
                </div>
              </div>

              <div class="control-group">
                <label for="boxHeightInput">Box Height (px):</label>
                <div class="dimension-controls">
                  <input
                    type="number"
                    id="boxHeightInput"
                    min="50"
                    value="300"
                    step="10"
                    max="2000"
                  />
                  <input type="range" id="boxHeight" min="50" max="2000" value="300" />
                  <span id="boxHeightValue">300</span>
                </div>
              </div>

              <button id="resetButton">Reset Simulation</button>
            </div>
          </div>
        </div>

        <!-- Bottom Section - Info -->
        <div class="info-section">
          <div class="simulation-info">
            <div id="gasLawExplanation" class="law-summary">
              <strong>Current Simulation:</strong> P = nRT/V<br />
              Adjust container size, temperature, or add particles to observe changes.
            </div>
            <div id="explosionStats" class="explosion-stats" style="display: none">
              <h3>Explosion Statistics</h3>
              <p>
                Maximum Volume:
                <span id="maxVolumeValue">0</span> mÂ³
              </p>
              <p>
                Pressure at Explosion:
                <span id="explosionPressureValue">0</span>
                kPa
              </p>
              <p>
                Particles at Explosion:
                <span id="explosionParticlesValue">0</span>
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="./src/particle-simulation.js"></script>
  </body>
</html>
